<!DOCTYPE html>
<html lang="en-us">
  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  <!-- Enable responsiveness on mobile devices-->
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1"
  />

  <title>
     VSCode C/C++ Plugin Formatting Fails &middot; Tendayi Kamucheka 
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="public/css/poole.css" />
  <link rel="stylesheet" href="public/css/syntax.css" />
  <link rel="stylesheet" href="public/css/hyde.css" />
  <link rel="stylesheet" href="public/css/custom.css" />
  <!-- <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface"> -->

  <!-- Icons -->
  <link
    rel="apple-touch-icon-precomposed"
    sizes="144x144"
    href="public/apple-touch-icon-144-precomposed.png"
  />
  <link rel="shortcut icon" href="public/favicon.ico" />

  <!-- RSS -->
  <link
    rel="alternate"
    type="application/rss+xml"
    title="RSS"
    href="/atom.xml"
  />
</head>


  <body>
    <div id="backdrop">
      <div class="sidebar">
  <div class="container">
    <div class="sidebar-about">
      <div id="photo-wrapper">
        <center>
          <div id="photo-circle">
            <img id="photo" src="public/images/profile.jpeg" />
          </div>
        </center>
      </div>
      <div class="sidebar-block">
        <center>
          <div id="big-name">
            <span id="first-name">Tendayi</span>
            <span id="dot-name">•</span>
            <span id="last-name">Kamucheka</span>
          </div></h1>
        </center>
        <p class="sidebar-text text-center">
          PhD Student
        </p>
        <p class="sidebar-text text-center">
          University of Arkansas
        </p>
        <p class="sidebar-text text-center">
          tfkamuch@uark.edu
        </p>
        <p class="sidebar-text text-center">
          <a href="assets/tkamucheka_resume.pdf" download>
            Download Resume
          </a>
        </p>
      </div>
    </div>

    <div class="sidebar-block">
      <nav class="sidebar-nav text-md-right">
        <a class="sidebar-nav-item" href="">Home</a>

        
        

        
        
          
            
          
        
          
            
          
        
          
            
          
        
          
        
          
            
              <a class="sidebar-nav-item" href="/blog/">Blog</a>
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
          
            
          
        
      </nav>
    </div>

    <div class="sidebar-block">
      <p class="sidebar-item text-md-right">
        <a href="https://github.com/tkamucheka" target="_blank">Github</a>
      </p>
      <p class="sidebar-item text-md-right">
        <a href="https://twitter.com/tkamucheka" target="_blank">Twitter</a>
      </p>
    </div>

  </div>

  <div class="container sidebar-sticky">
    <p class="lead text-md-right"></p>
    <p class="text-md-right">&copy; 2023. All rights reserved.</p>
  </div>
</div>

      <div id="header-wrapper"></div>

      <div class="content container"><div class="post">
  <h1 class="post-title">VSCode C/C++ Plugin Formatting Fails</h1>
  <span class="post-date">21 Nov 2019</span>
  <p>Lately, I’ve been doing a lot of programming in C++ for my work. I have also switched my editor of choice from Atom to VS Code. One of my favorite plugins on VS Code is C/C++ <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools"><code class="language-plaintext highlighter-rouge">ms-vscode.cpptools</code></a>. This is plugin offers great features like code auto-formatting, IntelliSense (code suggestions), and syntax highlighting for C and C++. These features are reminiscent of working in Visual Studio and for a text editor, that’s plenty.</p>

<p>Since Ubuntu 19.04, there is an annoying bug in the extension where it fails to auto-format code on a fresh install of Ubuntu. I have experienced this with both Ubuntu 19.04 and 19.10.</p>

<p>Thankfully, the cause of this bug is described here: <a href="https://github.com/Microsoft/vscode-cpptools/issues/3271">Formatting Failed C/C++ No info in Output window · Issue #3271 · Microsoft/vscode-cpptools · GitHub</a>. Basically, the plugin looks for <strong>libtinfo.so.5</strong> which is not present on Ubuntu 19.04 and after. Auto formatting fails when the plugin fails to locate the required lib. A solution is described in the comments on the same issue page. Seems sym-linking <strong>libtinfo.so.6</strong> to <strong>libtinfo.so.5</strong> solves the issue.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>apt <span class="nb">install </span>libncurses5-dev
<span class="nv">$ </span><span class="nb">sudo ln</span> <span class="nt">-s</span> /usr/lib/x86_64-linux/libncurses.so.6 <span class="se">\</span>
             /usr/lib/x86_64-linux/libncurses.so.5
</code></pre></div></div>

<p>Everything should work fine after doing this. Happy coding!</p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/blog/2018/04/14/hello-world/">
            Hello World
            <small>14 Apr 2018</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>
</div>
    </div>
  </body>
</html>
